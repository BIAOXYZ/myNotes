
# 03

Apache Spark SQL 优化器 https://mp.weixin.qq.com/s/9qfJwwDEug6v1xHKzWl-sQ
- > 导读: 在《Spark SQL 解析层优化》、《Spark SQL 分析层优化》以及《Spark SQL 表达式优化》三次分享中，分别介绍了从 SQL 解析、 SQL 分析以及 SQL 表达式三个角度， 通过优化框架、提炼代码、优化数据结构等方法来进行优化。以上优化更多的是从代码设计方向的优化，是广义上的 SQL 优化。业内普遍讨论的 SQL 优化则是 SQL 优化器和执行计划的优化。本文将剖析 Spark SQL 优化器原理，并在此基础上介绍三种较常见的优化思路。这些优化器的执行计划优化范式是可以复用的。
- > 主要内容包括以下几大部分：1. Spark SQL 优化器原理 2. 下推优化思路及代码实现 3. 算子消除与算子合并 4. 表达式消除与表达式替换 5. 总结
- > **01 Spark SQL 优化器原理**
  * > 图中的 Optimizer，就是 Spark SQL 优化器。***Optimizer 是通用名字，实际上有不同的实现***。优化器与之前的分析层类似，需要用到元数据信息协助它做优化。
  * > 无论是分析器还是优化器，都是规则执行器的具体实现。优化器中的优化规则与分析器规则有很大的不同，***分析器里主要是元数据的绑定从而定位数据的信息；而优化器在分析器基础上，借助分析结果做进一步优化***。在 Spark 3.0.0 之前，Spark 优化器是 Spark Optimizer 组件。Spark 3.0.0 之后引入了 `AQE（Adaptive Query Execution）`，它实际上也是规则执行器的实现，复用了很多原来的规则，并额外增加了一些新的优化规则，如小分区合并、大分区拆分、数据倾斜的处理等。但总体上从技术角度而言，代码设计同之前的优化器都是类似的。下面主要围绕经典的优化器进行介绍。

# 02

Spark 向量化加速引擎 Blaze 的技术实现与应用案例 https://mp.weixin.qq.com/s/K4s-D7ZDPI1INByRq3PqzA

大模型内容风控--跨模态通用视觉内容安全审核技术 https://mp.weixin.qq.com/s/q776Ma0VV0vgtKXKQiiwOw

从数据库视角看 NL2SQL https://mp.weixin.qq.com/s/yMHxk5lDBiAh4ZKjf7N5KQ

# 01

优化 Spark SQL 执行层的两种关键策略！ https://mp.weixin.qq.com/s/9JsakURon9od9240StkfYA
