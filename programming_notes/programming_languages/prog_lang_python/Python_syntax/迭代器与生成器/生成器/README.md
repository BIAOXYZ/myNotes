
# 生成器

Python生成器详解 http://c.biancheng.net/view/2393.html
- > 前面章节中，已经详细介绍了什么是迭代器。***生成器本质上也是迭代器，不过它比较特殊***。
- > 以 `list` 容器为例，在使用该容器迭代一组数据时，必须事先将所有数据存储到容器中，才能开始迭代；而生成器却不同，它可以实现在迭代的同时生成元素。
- > 不仅如此，生成器的创建方式也比迭代器简单很多，大体分为以下 2 步：
  * > 1.定义一个以 `yield` 关键字标识返回值的函数；
  * > 2.调用刚刚创建的函数，即可创建一个生成器。
  ```py
  def intNum():
      print("开始执行")
      for i in range(5):
          yield i
          print("继续执行")
  num = intNum()
  ```
- > 和 `return` 相比，`yield` 除了可以返回相应的值，还有一个更重要的功能，***即每当程序执行完该语句时，程序就会暂停执行***。不仅如此，即便调用生成器函数，Python 解释器也不会执行函数中的代码，它只会返回一个生成器（对象）。
- > 要想使生成器函数得以执行，或者想使执行完 `yield` 语句立即暂停的程序得以继续执行，有以下 2 种方式：
  * > 通过生成器（上面程序中的 num）调用 `next()` 内置函数或者 `__next__()` 方法；
  * > 通过 `for` 循环遍历生成器。
- > 例如，在上面程序的基础上，添加如下语句：
  ```py
  #调用 next() 内置函数
  print(next(num))
  #调用 __next__() 方法
  print(num.__next__())
  #通过for循环遍历生成器
  for i in num:
      print(i)
  ```
  > 程序执行结果为：
  ```console
  开始执行
  0
  继续执行
  1
  继续执行
  2
  继续执行
  3
  继续执行
  4
  继续执行
  ```
- > 这里有必要给读者分析一个程序的执行流程：
  * > 1) 首先，在创建有 num 生成器的前提下，通过其调用 `next()` 内置函数，会使 Python 解释器开始执行 intNum() 生成器函数中的代码，因此会输出“开始执行”，程序会一直执行到 `yield i`，而此时的 i==0，因此 Python 解释器输出“0”。由于受到 `yield` 的影响，程序会在此处暂停。
  * > 2) 然后，我们使用 num 生成器调用 `__next__()` 方法，该方法的作用和 `next()` 函数完全相同（事实上，`next()` 函数的底层执行的也是 `__next__()` 方法），它会是程序继续执行，即输出“继续执行”，程序又会执行到 `yield i`，此时 i==1，因此输出“1”，然后程序暂停。
  * > 3) 最后，我们使用 `for` 循环遍历 num 生成器，之所以能这么做，是因为 `for` 循环底层会不断地调用 `next()` 函数，使暂停的程序继续执行，因此会输出后续的结果。
  * > 注意，在 Python 2.x 版本中不能使用 `__next__()` 方法，可以使用 `next()` 内置函数，另外生成器还有 `next()` 方法（即以 `num.next()` 的方式调用）。
- > 除此之外，还可以使用 `list()` 函数和 `tuple()` 函数，直接将生成器能生成的所有值存储成列表或者元组的形式。例如：
  ```py
  num = intNum()
  print(list(num))
  num = intNum()
  print(tuple(num))
  ```
  > 程序执行结果为：
  ```console
  开始执行
  继续执行
  继续执行
  继续执行
  继续执行
  继续执行
  [0, 1, 2, 3, 4]
  开始执行
  继续执行
  继续执行
  继续执行
  继续执行
  继续执行
  (0, 1, 2, 3, 4)
  ```

## `.send()`

What's the purpose of "send" function on Python generators? https://stackoverflow.com/questions/19302530/whats-the-purpose-of-send-function-on-python-generators

Python生成器（send，close，throw）方法详解 http://c.biancheng.net/view/7090.html

:u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272:
