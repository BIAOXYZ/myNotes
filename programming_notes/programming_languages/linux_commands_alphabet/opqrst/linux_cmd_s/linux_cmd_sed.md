
# from The Geek Stuff

参见相应链接

# from sparkdev

linux sed 命令 https://www.cnblogs.com/sparkdev/p/7138073.html
```
sed 是一个流编辑器(stream editor)，主要用来执行文本替换。但 sed 的主要设计目的是以批处理的方式而不是交互的方式来编辑文件。

命令简介

基本命令格式
    sed [常用选项] 命令文本 输入

常用选项
    -n (--quiet, --silent)：安静模式。在 sed 的基本用法中，所有来自标准输出的信息都会被列出到终端上。加上 -n 参数后，则只有被sed 处理的那些行才会被输出。
    -e：指定在指令列模式上执行的命令文本。默认不需要指定，只有同时要执行多个命令文本时才需要显式的指定 -e 选项。
    -f：同时要执行多个命令文本时，可以将这些命令文本写到一个文件中，然后通过 -f filename 的方式使用。
    -r：sed 默认使用基础正则表达式语法(BRE)，指定 -r 选项后使用扩展正则表达式语法(ERE)。
    -i：直接修改读取的文档，而不是输出到终端。

常用命令
    a：新增行， a 的后面接字串，这些字串会被添加到匹配行的下面。
    c：替换行， c 的后面接字串，这些字串会替换掉匹配到的行。
    d：删除行，删除匹配到的行。
    i：插入行， i 的后面接字串，这些字串会被插入到匹配行的上面。
    p：打印，将某些行输出。通常 p 会与参数  -n 一起使用，这样只输出匹配到的行。
    s：字符串替换，主要搭配正则表达式使用。

解释一下本文中 "命令" 与 "命令文本" 的区别：
命令是一些抽象的操作，比如 a 指示新增行，d 指示删除行。
命令文本则是由命令和其它一些信息组合起来的一个字符串，用来执行具体的操作。
比如在第一行下面添加一行，内容为 'Hello world'，命令文本为：'1a Hello world'
再如删除包含字符串 'Hello world' 的行，命令文本为：'/Hello world/d'
```

# from other resources

## 1

linux sed命令 https://www.cnblogs.com/starof/p/4181985.html 【如果可以还是看原文，原文有文字颜色、加粗等效果，看着更加醒目】
```
----------------------------------------------------------------------------------------------------
一、初识sed

在部署openstack的过程中，会接触到大量的sed命令，比如

# Bind MySQL service to all network interfaces.
sed -i 's/127.0.0.1/0.0.0.0/g' /etc/mysql/my.cnf

那么这条命令是什么意思？接下来介绍sed命令答案自然就揭晓了。
----------------------------------------------------------------------------------------------------
二、sed简介

sed：是一个编辑器，是一个强大的文件处理工具。

sed作用：**用来替换、删除，更新文件中的内容**。sed能自动处理一个或多个文件。

sed原理：sed以**文本的行为单位**进行处理，一次处理一行内容。首先sed把当前处理的行存储在临时缓冲区中（称为模式空间pattern space），
接着处理缓冲区中的行，处理完成后，把缓冲区的内容送往屏幕。sed处理完一行就将其从临时缓冲区删除，然后将下一行读入，进行处理和显示，
这样不断的重复，直到文件末尾。处理完文件的最后一行后，sed便结束运行。

因为sed是对文件中每行在临时缓冲区中的副本进行编辑，所以**原文件内容并没有改变**，除非重定向输出。
----------------------------------------------------------------------------------------------------
三、sed命令介绍

#sed [-nefri][命令]

参数说明：

-i:直接修改文件，终端不输出结果。

-n:使用安静（slient）模式，取消默认输出。sed默认会将所有来自stdin的数据输出到终端上。但如果加上-n参数后，不自动打印处理后的结果，
只是默默的处理，只有经过sed特殊处理的那一行才被列出来。

-e: --expression直接在命令模式上进行sed的动作编辑。sed -e '...' -e '...' -e '...'

-f:指定sed脚本的文件名。

-r:sed动作支持的是延伸型正规表示法的语法。（默认是基础正规表示法语法）

命令说明：[n1][n2]命令

n1,n2：表示行号，该参数可选，一般表示希望操作的行数，可以是数字，正则表达式或二者混合。

用逗号分隔的两个行数表示这两行为起止的行的范围。如1，3表示1,2,3行，美元符号（$）表示最后一行。如何没有指定地址，sed将处理输入文
件的所有行。地址通常的写法有：n;n,m;n,$。举例，如果我的操作是需要在3到5行之间进行的，则【3,5,[动作行为]】。

命令:

a:新增，在当前行的下一行追加一行文本。

i:插入，在当前行的上一行插入一行文本。

c:替换，以行为单位进行替换，c的后面可以跟字符串，用这些字符串取代n1,n2之间的行。

d:删除，从模式空间删除一行。

p:打印，打印模式空间的行。通常p会与参数【-n】一起使用。

s:替换，通常s命令可以搭配正则表达式！例如1,20s/old/new/g。
----------------------------------------------------------------------------------------------------

```

## 2

linux sed命令详解 https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856901.html
```
[root@www ~]# sed [-nefr] [动作]
选项与参数：
-n ：使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN 的数据一般都会被列出到终端上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来。
-e ：直接在命令列模式上进行 sed 的动作编辑；
-f ：直接将 sed 的动作写在一个文件内， -f filename 则可以运行 filename 内的 sed 动作；
-r ：sed 的动作支持的是延伸型正规表示法的语法。(默认是基础正规表示法语法)
-i ：直接修改读取的文件内容，而不是输出到终端。

动作说明： [n1[,n2]]function
n1, n2 ：不见得会存在，一般代表『选择进行动作的行数』，举例来说，如果我的动作是需要在 10 到 20 行之间进行的，则『 10,20[动作行为] 』

function：
a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～
c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！
d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；
i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；
p ：列印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行～
s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！
```

> 以行为单位的新增/删除
>> 将 /etc/passwd 的内容列出并且列印行号，同时，请将第 2~5 行删除！
```
[root@www ~]# nl /etc/passwd | sed '2,5d'
1 root:x:0:0:root:/root:/bin/bash
6 sync:x:5:0:sync:/sbin:/bin/sync
7 shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
.....(后面省略).....
```

# 其他

Linux Shell输出文本中的指定行 https://blog.csdn.net/hs_err_log/article/details/79646376
- > 打印文本： p
  * > a. 输出test.txt的第5-7行：`sed -n "5,7p" test.txt`（-n的作用就显示出来了，可以去除-n查看效果）
