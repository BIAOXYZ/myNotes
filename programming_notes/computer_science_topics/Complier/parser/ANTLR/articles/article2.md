
# 1

关于SQL解析，为何编程语言解析器ANTLR更胜一筹？ https://juejin.cn/post/6844903699060359176 || https://dbaplus.cn/news-155-2261-1.html
- > **一、概念**
  * > 1、词法解析 
    + > ***<ins>词法解析器每次读取一个字符，在当前字符与之前的字符所属分类不一致时，即完成一个词法单元的识别</ins>***。例如，读取SELECT时，第一个字符是’S’，满足关键字和标示符的规则，第二个字符’E’也同样满足，以此类推，直到第7个字符是空格时，则不满足该规则，那么就完成了一个词法单元的识别。***SELECT既是SQL规范定义的关键字，又同时满足标识符规则，因此当一个词法单元是标识符时，解析器需要有优先级的判断，需要先确定它是否为关键字***。其他的规则相对简单，如：以数字开头的字符则根据数值规则的字面量读取字符；以双引号或单引号开头的则根据字符串规则的字面量读取字符；运算符或分界符就更易识别。举例说明，以下SQL： 
      ```sql
      SELECT id, name FROM product WHERE id > 10;
      ```
    + > 识别之后的词法单元为：
      ```console
      关键字：SELECT、FROM、WHERE
      标识符：id、name、product
      字面量：10
      运算符：>
      分界符：,和;
      ```
  * > 2、语法解析
    + > 语法解析器每次从词法解析器中获取一个词法单元。如果满足规则，则继续下一个词法单元的提取和匹配，直至字符串结束；若不满足规则，便提示错误并结束本次解析。
    + > 语法解析难点在于规则的循环处理以及分支选择，还有递归调用和复杂的计算表达式等。
