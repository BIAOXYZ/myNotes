
终于，SM2国密算法被Linux内核社区接受了! https://mp.weixin.qq.com/s/Fl2B1iHLUQkAZfTc4Lme5w
- > 2010年底，国家密码管理局公布了我国自主研制的“椭圆曲线公钥密码算法”（SM2算法）。为保障重要经济系统密码应用安全，国家密码管理局于2011年发布了《关于做好公钥密码算法升级工作的通知》，明确要求“自2011年3月1日起，在建和拟建公钥密码基础设施电子认证系统和密钥管理系统应使用国密算法。自2011年7月1日起，投入运行并使用公钥密码的信息系统，应使用SM2算法。”
- > 自2012年以来，国家密码管理局以《中华人民共和国密码行业标准》的方式，陆续公布了SM2/SM3/SM4等密码算法标准及其应用规范。其中“SM”代表“商密”，即用于商用的、不涉及国家秘密的密码技术。
- > 这其中值得我们关注的主要是以下公开的算法：
  ```console
  SM2：基于椭圆曲线密码（ECC）的公钥密码算法标准，提供数字签名，密钥交换，公钥加密，用于替换RSA/ECDSA/ECDH等国际算法
  SM3：消息摘要算法，哈希结果为256 bits，用于替换MD5/SHA1/SHA256等国际算法
  SM4：对称加密算法，密钥长度和分组长度均为128 bits，主要用于无线局域网标准，用于替换DES/AES等算法
  国密证书：这里的国密证书指的是使用国密算法（SM2-with-SM3）的标准X509格式证书，证书使用SM3作为哈希算法，使用SM2作为数字签名算法
  国密SSL：采用国密算法，符合国密标准的安全传输协议，也就是SSL/TLS协议的国密版本
  ```
- > **SM2进阶Linux内核之路**
- > 目前Linux内核已经较好的支持了SM3和SM4算法，这得益于无线局域网标准的广泛使用。但SM2算法和国密证书迟迟没有得到支持，也就无法基于国密来建立全栈可信和内核中的完整性验证，因此在内核中支持这一套体系也变得迫切起来。整个规划是：在内核中支持SM2算法和国密证书，在内部业务率先应用起来后，最终推进到社区。
- > 第一回，有了规划，接下来就是考虑如何实施。但凡密码学算法，都会先考虑是否可以从openssl做移植。幸运的是，openssl对SM2/3/4支持得非常好，椭圆曲线算法的实现久经考验，非常成熟，而且最新版本也完整支持了国密证书。不幸的是，openssl的各个模块之间藕合度很高，要实现SM2和国密证书，需要移植openssl架构和基础设施代码，包括BIGNUM、ECC、X509等。这个工作量无疑是巨大的，即便实现了，这种方式也很难被社区接受，再三考虑权衡后，果断放弃了这条"捷径"。
