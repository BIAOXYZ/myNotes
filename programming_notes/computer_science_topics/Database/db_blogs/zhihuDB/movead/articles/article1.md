
PostgreSQL的事务及其实现机制 - movead的文章 - 知乎 https://zhuanlan.zhihu.com/p/147605189 || https://www.modb.pro/db/28286
- > **子事务**
  * > 子事务是伴随着savepoint或者带有 exception的函数出现的，我们用savepoint来举例说明
  * > 我们可以看到，我们在同一个事务块中插入的四条记录拥有不同的事务ID，这其中第一个事务10496是他们的父事务，10497，10498，10499是子事务。子事务同时也是一个特殊的普通事务，他们也有提交状态，也会将状态刷写到pg_xact目录中，在10496父事务提交或者abort后，这些子事务的行为与普通事务一致。
  * > 有所不同的是提交过程。所有父事务和子事务，最终都要标记为commit或者abort状态(中间rollback的事务，可以不看为是子事务)。为了保证整个父事务和子事务原子性，PostgreSQL为子事务的提交设计了一套提交机制：
- > **多事务**
  * > 多事务是因为行级锁出现的，当有多个session对同一行记录添加行级锁时，就会出现多事务。下面我们使用一个例子来演示一下多事务的出现。
- > **2PC事务**
  * > 两阶段提交(2PC)事务是实现分布式提交的必要条件，同样下面将会演示什么是2PC事务，以及PostgreSQL是如何实现2PC事务的。
