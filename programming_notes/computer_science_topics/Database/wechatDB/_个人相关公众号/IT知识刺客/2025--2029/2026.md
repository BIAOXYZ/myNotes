
# 01

神鬼难测的数据库（一）-- 终极大比拼：MySQL和PG谁更强（上） https://mp.weixin.qq.com/s/kQNZ2_YBjjssCTqXHiiW-g  【`1.12`】

深入解析：元旦当天某厂数据库BUG，搞摊中国银行APP -- 第二季 https://mp.weixin.qq.com/s/92ego_shYWaosGX9e99UNw  【`1.8`】
- > 图1 是经典论文`《OLTP：镜中奇遇与发现之旅》`，作者之一是数据库领域唯一仍在世的图灵奖获得者：Michael Stonebraker。
- > 论文第二页有张图，我借用一下，就是上面图2。以指令数为指标，统计数据库各个阶段的负载。
- > 下面是4号的原文（略有修改）：
- > 先说一个问题：“谁最有资格评价一个数据库强与弱”。不是你也不是我，而是处理器 --- CPU。
- > 按如下步骤，可以得到执行某SQL时所使用的CPU指令数：
- > 步1：使用perf，打开CPU ”指令数“计数器，针对进程24636，统计它执行的指令数：
  * > ![](https://mmbiz.qpic.cn/mmbiz_png/SJgkicsDwGKY2Z2gKjfff4ZWytUsDv7eG5icw9SX8xYss6EmSTGU4OdEvjtaibsoDfsEK2hoT4cOIsLd1p8LtrVaQ/640)
  * > 是不是没想到，CPU内计数器，说起来很玄乎的概念，打开它竟十分的简单，一条perf命令就可以了。
  * > `"instructions:u"`中的`“:u”`，是只统计用户态执行的指令数。我们排除于内核态的指令，去除一些干扰，统计结果更精准。
- > 在某数据库中，执行和PG同样的SQL，使用了`989,183条`指令。
- > 还记得PG使用了多少条指令吗，`105,649条`。某数据库是PG的`9.36倍`。

我们能从苏联笑话中学到什么 https://mp.weixin.qq.com/s/IpsN1rChP3826NreBibQ4A  【`1.7`】
- > 先投诉名誉侵权，没通过。然后，就是图片中的故事了。
- 回复：
  * > 笑死我了，我本身就是 IT 行业，就是因为这篇文章写的有条理逻辑清晰才关注的作者，结果搞的作者违反国网安法
  * > 本来想分享之前文章，但想了想文章缺少分析cycle差异具体用在那些地方，这些差异可能是不同的分支和功能调用导致的，结论存在一些偏颇，就没有分享。不过这个投诉理由确实比较好笑，但人人都知道的秘密和国家秘密不矛盾。
    >> cycle差异分析，就要花很多时间了。我觉得openGauss不值得花时间研究。下一篇《神鬼莫测的数据库（一）》，将分析MySQL和PG，会有详细的cycle差异分析。
  * > 泄露国家秘密？这借口太牵强了吧
