
# 01

2025 数据库世界年度回顾 https://mp.weixin.qq.com/s/dKOGYeWUykdhODw3GB819w  【`1.6`】
- > 往年回顾：
  ```console
  • 2024 数据库年度回顾[16]
  • 2023 数据库年度回顾[17]
  • 2022 数据库年度回顾[18]
  • 2021 数据库年度回顾[19]
  ```
- > PostgreSQL 持续称霸
  * > 收购与发布
- > 全民 MCP 时代
  * > Anthropic 在 2024 年 11 月宣布[108] MCP，但真正火起来是 2025 年 3 月 OpenAI 宣布将在其生态系统中支持 MCP[109]。接下来几个月，所有类别的 DBMS 厂商都发布了 MCP 服务器：OLAP（如 ClickHouse[110]、Snowflake[111]、Firebolt[112]、Yellowbrick[113]）、SQL（如 YugabyteDB[114]、Oracle[115]、PlanetScale[116]）和 NoSQL（如 MongoDB[117]、Neo4j[118]、Redis[119]）。由于没有官方的 Postgres MCP 服务器，每个 Postgres DBaaS 都发布了自己的版本（如 Timescale[120]、Supabase[121]、Xata[122]）。云厂商发布了可以与其任何托管数据库服务通信的多数据库 MCP 服务器（如 Amazon[123]、Microsoft[124]、Google[125]）。允许单一网关与异构数据库通信，这几乎但还不完全是圣杯级别的联邦数据库[126]。***据我所知，这些 MCP 服务器的每个请求一次只针对单个数据库，所以跨源连接还是应用自己负责***。
  * > 除了官方厂商的 MCP 实现外，几乎所有 DBMS 都有数百个[127]第三方 MCP 服务器实现。有些试图支持多个系统（如 `DBHub`[128]、`DB MCP Server`[129]）。***DBHub 发布了一篇关于 PostgreSQL MCP 服务器的不错的概述[130]***。
  * > Andy 的看法
    + > ***从我粗略检查的几个 MCP 服务器实现来看，它们都是简单的代理，将 MCP JSON 请求翻译成数据库查询。没有深入的内省来理解请求的目的以及是否合适***。总有人会在你的应用里订购 18000 杯水[137]，你得确保这不会搞崩你的数据库。一些 MCP 服务器有基本的保护机制（例如 ClickHouse 只允许只读查询[138]）。DBHub 提供了一些额外的保护[139]，如限制每个请求返回的记录数和实现查询超时。Supabase 的文档提供了 MCP Agent 的最佳实践指南[140]，但这依赖于人类去遵守。当然，如果你指望人类做对的事，坏事就会发生[141]。
    + > 企业级 DBMS 已经有了开源系统所缺乏的自动化护栏和其他安全机制，因此它们更好地为 Agent 生态做好了准备。例如，IBM Guardium[142] 和 Oracle Database Firewall[143] 可以识别和阻止异常查询。我不是在为这些大科技公司打广告，我知道未来会有更多 Agent 毁掉生活的例子，比如不小心删除数据库[144]。***将 MCP 服务器与代理（如连接池）结合，是引入自动化保护机制的好机会***。
- > 文件格式大战
  * > 文件格式是数据系统中过去十年基本处于休眠状态的领域。2011 年，Meta 发布了用于 Hadoop 的列式存储格式 `RCFile`[165]。两年后，Meta 改进了 RCFile 并宣布了基于 `PAX` 的 `ORC`[166]（`Optimized Record Columnar File`）格式。***`ORC` 发布一个月后，Twitter 和 Cloudera 发布了 `Parquet`[167] 的第一个版本***。近 15 年后，Parquet 是主导的开源文件格式。
  * > 2025 年，有五个新的开源文件格式发布，试图挑战 Parquet 的王座：
    ```console
    • CWI FastLanes[168]
    • CMU + 清华 F3[169]
    • SpiralDB Vortex[170]
    • 德国人的 AnyBlox[171]
    • Microsoft Amudai[172]
    ```
  * > 这些新格式加入了 2024 年发布的其他格式：
    ```console
    • Meta Nimble[173]
    • LanceDB Lance[174]
    • IoTDB TsFile[175]
    ```
  * > SpiralDB[176] 今年动静最大，宣布将 `Vortex` 捐赠给 Linux Foundation[177] 并建立了多组织指导委员会。Microsoft 在 2025 年底某个时候悄悄砍掉了 `Amudai`（或至少闭源了）。其他项目（FastLanes、F3、Anyblox）是学术原型。***`Anyblox` 今年获得了 VLDB 最佳论文奖[178]***。
  * > 这场新竞争点燃了 Parquet 开发者社区现代化其功能[179]的热情。***可以看看 Parquet PMC 主席（Julien Le Dem[180]）对列式文件格式现状的深入技术分析[181]***。
  * > Andy 的看法
    + > Parquet 的主要问题不在于格式本身，规范可以而且已经在演进。没人期望组织会重写 PB 级的遗留文件来更新到最新 Parquet 版本。问题在于有太多不同语言的读写库实现，每个都支持规范的不同子集。我们对野生 Parquet 文件的分析[182]发现，94% 的文件只使用了 2013 年 v1 的功能，尽管它们的创建时间戳在 2020 年之后。这种最低公分母意味着，如果有人使用 v2 功能创建 Parquet 文件，不清楚系统是否有正确的版本来读取它。
    + > 我与清华（曾星宇[183]、张焕晨[184]）、CMU（Martin Prammer[185]、Jignesh Patel[186]）和 Wes McKinney[187] 等杰出人才一起开发了 F3[188] 文件格式。我们的重点是解决这个互操作性问题，通过提供原生解码器作为共享对象（Rust crates）和嵌入在文件中的 WASM 版本解码器。***如果有人创建了新的编码方式而 DBMS 没有原生实现，它仍然可以通过传递 Arrow 缓冲区使用 WASM 版本读取数据***。每个解码器针对单个列，允许 DBMS 对单个文件混合使用原生和 WASM 解码器。AnyBlox 采用了不同的方法，生成单个 WASM 程序来解码整个文件。
    + > 我不知道谁会赢得文件格式战争。下一场战役可能是 GPU 支持。SpiralDB 正在做出正确的举措，但 Parquet 的普及性将是一个难以克服的挑战。我甚至还没讨论 DuckLake[189] 如何试图颠覆 Iceberg...
    + > 当然，每当讨论这个话题时，总有人会发这张 `xkcd 竞争标准漫画`[190]。我看过了，不用再发给我了。
- > 杂项动态
  * > 收购
    + > DataStax → IBM : Cassandra 的老牌公司在年初被 IBM 收购，估值约 30 亿美元[193]。
    + > Neon → Databricks : 显然，这家 PostgreSQL 公司有竞标战，但 Databricks 以令人垂涎的 10 亿美元[198]拿下。Neon 今天仍作为独立服务存在，但 Databricks 很快将其在生态系统中更名为 `Lakebase`[199]。
    + > CrunchyData → Snowflake : 你知道 Snowflake 不会让 Databricks 独占夏天的头条，所以他们花了 2.5 亿美元收购了这家 13 年历史的 PostgreSQL 公司 CrunchyData。Crunchy 近年来招募了顶尖的前 Citus 人才，并在被 Snowflake 收购前扩展其 DBaaS 产品。Snowflake 在 2025 年 12 月宣布其 Postgres[200] 服务的公开预览。
    + > Tobiko Data → Fivetran : 这个团队是两个实用工具的幕后：SQLMesh[203] 和 `SQLglot`[204]。前者是 dbt 唯一可行的开源竞争者（见下文他们与 Fivetran 的合并）。`SQLglot` 是一个方便的 SQL 解析器/反解析器，支持基于启发式的查询优化器。这些工具在 Fivetran 以及 SDF 在 dbt 中的组合，在未来几年会是这个领域有趣的技术较量。
    + > Datometry → Snowflake : Datometry 多年来一直在解决将遗留 SQL 方言（如 Teradata）自动转换为较新 OLAP 系统这个棘手问题。Snowflake 收购他们以扩展其迁移工具[214]。更多信息请参见 Datometry 2020 年的 CMU-DB 技术讲座[215]。
    + > Mooncake → Databricks : 收购 Neon 后，Databricks 又收购了 Mooncake，使 PostgreSQL 能够读写 Apache Iceberg 数据。更多信息请参见他们 2025 年 11 月的 CMU-DB 讲座[216]。
    + > Confluent → IBM : 这是如何从草根开源项目打造公司的典范。Kafka 最初于 2011 年在 LinkedIn 开发。Confluent 于 2014 年作为独立创业公司拆分出来。七年后的 2021 年 IPO。然后 IBM 写了一张大支票接手。和 DataStax 一样，还需要观察 IBM 会不会对 Confluent 做 IBM 通常对被收购公司[217]做的事，还是能像 RedHat 那样保持自治。
    + > Kuzu → ??? : 来自 Waterloo 大学的`嵌入式图数据库`被一家未具名公司在 2025 年收购。KuzuDB 公司随后宣布放弃开源项目。LadybugDB[218] 项目是维护 Kuzu 代码分叉的尝试。
  * > 合并
    + > 2025 年 10 月，Fivetran[219] 和 dbt Labs[220] 宣布合并[221]为一家公司，这是意想不到的消息。
    + > 我能想到的数据库领域上一次合并是 2019 年 Cloudera 和 Hortonworks 的合并[222]。但那笔交易就是厨房里被掺了水的货[223]：两家在 Hadoop 市场挣扎求存的公司合并成一家来寻找市场定位（***剧透：他们没找到***）。2022 年 MariaDB Corporation 通过 SPAC[224] 与 Angel Pond Holdings Corporation[225] 的合并在技术上也算，但那笔交易是为了让 MariaDB 走后门上市。而且投资者[226]的结局并不好。Fivetran + dbt 合并不同（也更好），他们是两家互补的技术公司合并成为 ETL 巨头，为不久的将来正式 IPO 做准备。
  * > 改名
    + > 我年度总结中的新类别：数据库公司改名。
    + > Timescale → TigerData : 这是数据库公司将自己重命名以区别于其主要数据库产品的罕见案例。通常是公司把自己重命名为数据库的名字（如"Relational Software, Inc."改为"Oracle Systems Corporation"，"10gen, Inc."改为"MongoDB, Inc."）。但对公司来说，试图摆脱被视为专业时序数据库的印象，转而被看作通用应用的增强版 PostgreSQL 是有意义的，因为后者的市场规模要大得多。
  * > 死亡
    + > PostgresML : 这个想法看起来很明显：让人们在 PostgreSQL DBMS 内部运行 ML/AI 操作。挑战在于说服人们把现有数据库迁移到他们的托管平台。他们推广 pgCat[248] 作为镜像数据库流量的代理。其中一位联合创始人加入了 Anthropic。另一位联合创始人创建了新的代理项目 pgDog[249]。
    + > Derby : 这是最早用 Java 编写的 DBMS 之一，可追溯到 1997 年（最初叫"Java DB"或"JBMS"）。IBM 在 2000 年代将其捐赠给 Apache Foundation，并更名为 Derby。2025 年 10 月，项目宣布系统将进入"只读模式"，因为没人再积极维护了。
    + > 最后，虽然不是商业公司，但我不得不提一下 `IBM Research Almaden`[255] 的关闭[256]。IBM 于 1986 年建造了这个园区，几十年来一直是数据库研究的圣地。我 2013 年在 Almaden 面试[257]时，发现那里的风景很美。IBM Research 数据库组已不是当年的样子[258]了。但这片神圣的数据库土地的校友名单令人印象深刻：Rakesh Agrawal[259]、Donald Chamberlin[260]、Ronald Fagin[261]、Laura Haas[262]、Mohan[263]、Pat Selinger[264]、Moshe Vardi[265]、Jennifer Widom[266] 和 Guy Lohman[267]。
  * > Andy 的看法
    + > 有人声称[268]我根据支持公司筹集的资金多少来判断数据库的质量。这显然不对。我追踪这些动态是因为数据库研究领域竞争激烈、能量充沛。我不仅要与其他大学的学者"竞争"，大科技公司和小型创业公司也在推出我需要关注的有趣系统。***除了 Microsoft Research 仍在积极招聘顶尖人才并做出令人难以置信的工作外，行业研究实验室已不是当年的样子了***。
    + > 我在 2022 年预测[269] 2025 年会有大量数据库公司倒闭。是的，今年的倒闭比往年多，但规模没有我预期的那么大。
    + > Voltron 的死亡和 HEAVY 的类似收购整合似乎延续了 ***GPU 加速数据库不可行的趋势***。
    + > 最后，向 `Nikita Shamgunov`[278] 致敬。据我所知，他是唯一一个联合创立的两家数据库公司（`SingleStore`[279] 和 `Neon`[280]）都在同一年被收购的人。就像 DMX（RIP）在同一年发行了两张冠军专辑（It's Dark and Hell Is Hot[281]、Flesh of My Flesh[282]）一样，我认为短期内不会有人打破 Nikita 的记录。
- > 巅峰男性的极致表现
  * > 对数据库界 OG（元老）Larry Ellison 来说，这是辉煌的一年。这位 81 岁的老人在一年内取得的成就比大多数人一辈子都多。我按时间顺序一一道来。
  * > Larry 年初时是全球第三富有的人。比 Mark Zuckerberg 身价低这件事让他夜不能寐。有人说 Larry 失眠是因为他买了一家著名的英国酒吧[283]后改变了饮食，吃了更多的派。但我向你保证，Larry 30 年来的`"素食海鲜[284]"`饮食没有改变。然后在 2025 年 4 月，消息传来：Larry 成为了全球第二富有的人[285]。他睡得好了一点，但还是不够。他生活中还有很多事让他压力很大。比如，Larry 终于决定出售他那辆稀有的、半合法上路的 McLaren F1 超级跑车[286]，附带手套箱里的原始车主手册。
  * > 年度（可能是世纪）最大的数据库新闻在 2025 年 9 月 10 日星期三下午约 3:00（美东时间）降临。在等待了几十年之后，Larry Joseph Ellison 终于加冕为全球首富[294]。$ORCL[295] 当天上午股价上涨 40%，***由于 Larry 仍持有公司 40% 的股份***，他的估计总身价达到 3930 亿美元[296]。从这个角度来看，这不仅使他成为世界上最富有的人，也是人类历史上最富有的人。John D. Rockefeller[297] 和 Andrew Carnegie[298]（***是的，CMU 的那个"C"***）经通胀调整后的峰值净资产分别只有 3400 亿美元[299]和 3100 亿美元[300]。
  * > 在 Larry 登顶世界之巅的同时，Oracle 还参与了收购控制 TikTok 的美国公司[301]的交易，Larry 还资助 Paramount[302]（由他第四次婚姻的儿子控制）竞标收购华纳兄弟[303]。美国总统甚至敦促 Larry 控制 CNN 新闻部门[304]，因为 Larry 是 Paramount 的大股东。
- > 老冯评论
  * > 一、PostgreSQL 赢了，然后呢？
    + > 但如果你仔细看这份胜利的账单，会发现一个尴尬的事实：项目赢了，公司却没了。 Neon 卖给了 Databricks，CrunchyData 卖给了 Snowflake，Citus 早就归了微软。 创始人们套现离场，云厂商则顺手把这些团队里最懂 PostgreSQL 的人才一网打尽。 剩下还在独立运营的 PostgreSQL ISV 屈指可数，而且每一家头上都悬着"何时被招安"的达摩克利斯之剑。
    + > Andy 在文章里提了一句很有意思的话：这些小公司应该联合起来，把枪口对准云厂商，而不是自己先打起来。 PlanetScale 怼 Neon，Yugabyte 怼 CockroachDB——打来打去，最后便宜的是坐山观虎斗的 AWS 和 Google。 真正的对手是那些拿着开源代码做托管服务、一分钱不回馈社区、还用规模优势碾压所有独立厂商的巨头。
  * > 二、分布式的 PG 是伪需求吗？
    + > 问题在于，"单机"的定义已经被硬件革命彻底改写了。Gen5 NVMe SSD 单卡能到 256TB、几百万级的 IOPS；顶配服务器七八百个核、几TB 内存，全闪单机1U 放进 8个PB。 现在几乎没有哪个 TP 数据库能把这些恐怖的硬件性能榨干。硬件的进步让集中式数据库的容量和吞吐达到了前所未有的高度，而分布式数据库还在解决一个十年前的问题。
    + > ***像 OpenAI 这样的独角兽巨无霸，用一套一主四十从的经典主从架构 PG 集群撑起了业务***。那么普通用户使用 “分布式” 的意义又在哪里？
- 回复：
  * > 老冯提的几个硬件还是有互斥条件的，现在服务器只能双路，最多也就128核x2(未来288x2)，1U10盘 U2+128T QLC勉强算1PB存储空间，但是IO就暴跌了。而且出于散热考虑处于CPU、存储、PCIE设备只有一强的状态 <br> 不过实际应用中还没见过如此极端的配置，大部分连8盘U2都配不齐
    >> 一般也用不到那么大。上次去浪潮看到一款 8PB 全闪 1U 的服务器。
    >>> 最早的E7不是支持4路服务器吗？AMD 9965已经是单个cpu 192c 384t了啊,老冯这个说法还真没啥问题
