
# 03

3分钟上手体验OceanBase https://mp.weixin.qq.com/s/0KMhixyKwhz3oN88qQO7Vw

解读PolarDB PostgreSQL postmaster入口代码 https://mp.weixin.qq.com/s/vZjFVkxybIou8rgX4kRXjw

进阶课 11 激活Standby https://mp.weixin.qq.com/s/zYvtA-N2p2Uoc2BVw-4_JA

解读PolarDB PostgreSQL入口点代码main.c https://mp.weixin.qq.com/s/qOw_wX2WgfXON2E803VK-g

PostgreSQL 18 preview - 奇慢无比的GIN索引创建支持并行了 https://mp.weixin.qq.com/s/jT3Mh7Aifdp-pgKNf_y2bg

如果老板提出无理要求, 你会怎么应付? https://mp.weixin.qq.com/s/HWTOft6CENAEKSYVB2MZVQ
- > 为了生计, 我怎么可能被迫答应老板的无理要求: 把PostgreSQL迁移到MySQL. MySQL有啥好的, 虽然老板很喜欢没得办法, 没办法咋个弄? 弄个pi. 
- > 找来找去, 终于找到了前阿里云数据库产品事业部负责人佛爷和普爷公司的产品`NineData`. **居然推出了社区免费版, 这是为老板请来的救兵吧, 太明显了**. 

进阶课 10 灾难恢复 https://mp.weixin.qq.com/s/VcJAZci2qGXxpuHk1Po9sA

进阶课 9 读写分离 https://mp.weixin.qq.com/s/znsgGaR5Te1pEOtLZTqvJg

进阶课 8 时间点恢复(PITR) https://mp.weixin.qq.com/s/Sc1LqggLKrdoM4AVKH-HGA

# 02

数据库筑基课 - 列存之 Arrow https://mp.weixin.qq.com/s/AGBVynV8iWVldSvfzeJXJA
- > **二、Arrow 是什么？**
  * > 例如`pg_strom`插件, 通过arrow打通各个数据库产品数据共享, 打破数据孤岛
- > **四、Arrow 和 Parquet/ORC 是什么关系？**
  * > ***Parquet/ORC同样是采用列存，但是都是面向磁盘设计的，Arrow面向内存设计***
- > **五、支持Arrow的应用**
  * > DuckDB, DataFusion, PostgreSQL 插件、Pandas、Apache Spark、Apache Drill、Apache Flink、TensorFlow / PyTorch、ClickHouse 等.

DuckDB接入DeepSeek https://mp.weixin.qq.com/s/1eYIiiKnrxxyahcef9IbrA

Valgrind - 数据库内核的内存卫士与性能分析大师 https://mp.weixin.qq.com/s/2cXMYI2bxc83ppPt5B8_kg

PostgreSQL 18 支持虚拟生成列（Virtual Generated Columns） https://mp.weixin.qq.com/s/njB2f1fmxV2w3QkTtGxURA
- > 这个 patch 为 PostgreSQL 引入了虚拟生成列（Virtual Generated Columns）的功能。与现有的存储生成列（Stored Generated Columns）不同，虚拟生成列在读取时计算（类似于视图），而不是在写入时计算（类似于物化视图）。虚拟生成列的语法为：
  ```sql
  ... GENERATED ALWAYS AS (...) VIRTUAL
  ```

pg_mooncake VS CrunchyData https://mp.weixin.qq.com/s/KT9oRmgNuBVRNYlXbtub8A
- > 1、CrunchyData . Incremental Archival from Postgres to Parquet for Analytics https://www.crunchydata.com/blog/incremental-archival-from-postgres-to-parquet-for-analytics
- > 2、pg_mooncake v0.2 roadmap 提到, columnstore 将采用logical replication同步数据到parquet, 但是为了提高性能会使用本地行存储缓冲逻辑增量, 达到一定数据量后再批量写入parquet. 在读取column table时也会自动合并本地缓冲数据和parquet两部分数据, 使得查询到的数据延迟更低.

DuckDB AsOf Join 核心解析 https://mp.weixin.qq.com/s/uIP9RSEvrAdP0mDVPF2dWQ
- > 原文: https://duckdb.org/2025/02/19/asof-plans.html
- > DuckDB的AsOf Join是一种针对时间序列数据的特殊连接操作，主要用于处理时间戳不完全匹配的场景。
- > **一、`AsOf Join`的核心功能**
  * > **1.模糊时态匹配**
    + > ***当两个表的时间戳无法精确对齐时，AsOf Join会基于时间顺序，将左表的每条记录与右表中时间戳最接近且不超过左表时间的记录关联***。例如，计算某持仓时间点的最新价格（）。
  * > **2.典型应用场景**
    + > 金融领域：计算持仓在特定时点的价值（左表为持仓时间，右表为价格变动时间序列）。
    + > 数据对齐：合并不同频率的时间序列数据（如分钟级交易数据与日级因子数据）。

我为什么要搞数据库内核课程 https://mp.weixin.qq.com/s/vJ-2OiTvwDht9UsJebqhbg

DBA转型干内核开发行不行？ https://mp.weixin.qq.com/s/WDsu1ABbvzi8QXOcDqnVeQ

这样玩转 PolarDB 开源社区 https://mp.weixin.qq.com/s/ot9hB_5c4gxADaguDJqrgA

开发者福音！github AI助手 https://mp.weixin.qq.com/s/QtHTTGQLdyPRpeMaMKJQeg

PolarDB数据库基础 5 特性解读与体验 https://mp.weixin.qq.com/s/dhiVqjf9obm7Afzviro2pA
```console
PolarDB数据库基础 5 特性解读与体验
1、预读 / 预扩展
2、Shared Server
3、闪回表和闪回日志
4、弹性跨机并行查询（ePQ）
5、TDE 透明数据加密
```

# 01

微调实践 - 让AI学完所有PolarDB文章 https://mp.weixin.qq.com/s/63Fb8ZIHXNJ9XmUgUde4EQ

猛料! 月饼(pgmooncake)进化了 https://mp.weixin.qq.com/s/FtrfNAHVVn-Av0DsvHWHZQ
- > https://www.mooncake.dev/blog/how-we-built-pgmooncake
- > https://github.com/Mooncake-Labs/pg_mooncake/releases/tag/v0.1.0
- > 快看v0.1.0增加了什么? `pg_duckdb` 都还不能 JOIN with regular Postgres heap tables. 月饼已支持!

遇到炫技的面试官，千万别这样答！ https://mp.weixin.qq.com/s/WD3agUUkr-KOp1JRa8vqRw
- > `情况1`, PostgreSQL数据库正在执行long query时, 如果客户端(主动/被动)断开与PostgreSQL的socket连接, 或者中间网络设备断开了这条连接, 请问PG数据库有什么反应?
  ```console
  1、继续执行long query
  2、直到执行完long query, 然后send data, 发现socket连接不正常
  3、断开连接
  ```
  * > 有没有什么方法让PG更快的发现客户端连接已经断了? 立即终止执行long query呢?有, 例如配置
    + > `tcp_keepalives_idle = 10s` # 如果这个socket连接10s都没有数据, 操作系统内核将发起心跳包
    + > `tcp_keepalives_interval = 5s` # 如果心跳包没有收到客户端回包, 间隔5s后再次发送
    + > `tcp_keepalives_count = 3` # 重试3次还没有收到回包, 操作系统内核将这个socket置为close状态. 当前配置也就是10+5+5+5=25s后发现问题并close socket.
    + > `client_connection_check_interval = 10s` # `PG 14`引入的参数. 数据库每10s检查socket状态, 如果发现close, 则停止正在执行的query, 释放数据库服务端的socket.
  * > 如果没有配置 `client_connection_check_interval` 的话, 要等数据库进入等待客户端消息或向客户端发送消息时, 才能发现socket问题, 也就是long query执行完.
- > `情况2`, PostgreSQL数据库正在执行long query时, 如果客户端(主动并发起SIG cancel 信号, 不管它怎么发的, 例如通过Libpq协议)断开与PostgreSQL的socket连接, 请问PG数据库有什么反应?
  * > 这里提到了cancel 信号, 那就要分2种情况
    + > 1、如果PostgreSQL 处于不接收中断信号的执行过程, 则暂不响应中断信号, query会继续执行完.
    + > 2、如果PostgreSQL 处于可接收中断信号的执行过程, 则会立即cancel query.
