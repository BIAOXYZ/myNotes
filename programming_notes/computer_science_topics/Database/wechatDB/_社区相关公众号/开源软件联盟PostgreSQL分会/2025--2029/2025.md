
# 01

Postgres内核代码100万行，怎么读？ https://mp.weixin.qq.com/s/o3_Uto9Z4DS2fKgPfu9GYg
- > 我们今天请到张明礼 (Zhang Mingli) 老师分享他的内核开发经验。
- > 首先要说明的是，Postgres是一个复杂的系统，你不可能一下就掌握所有领域。
- > Postgres 17 代码统计：仅看 h, c文件，大约有`121万行`。
- > 而我们的工作主要是在Postgres基础之上，开发Greenplum/Cloudberry分布式数据库。Greenplum/Cloudberry 代码统计：h, c 文件大约有`159万行`，c++文件`18万行`（***这里大部分应该是`ORCA优化器`的代码***）
- > 为什么我觉得架构稍微了解下就好？Greenplum Tech Lead曾经对我说：“只谈架构，毫无意义，必须一个一个case地去优化。”
- > 我深表同意，架构就几句话，几张图，谁都可以谈，***<ins>甚至在面试时的校招生也会侃侃而谈架构如何</ins>。但要是从事内核开发，必须要深入代码具体实践才行***。
- > 当对上面有一个大致了解后，可以选一个领域进行深入研究。***根据上次投票的结果，大家对优化器的热情最高***。但是以我的经验，如果完全是初学者，建议从存储开始看起。
- > 某大佬曾经对我说：“如果不看存储，很多时候你根本不知道内核在做什么。”存储是数据库的底座，优化器是建立在存储之上的，如果没有对存储的了解，优化器就有点空中楼阁了。
