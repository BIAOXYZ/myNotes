
# 09

PolarDB-PG IMCI实战解析：深度融合DuckDB，复杂查询性能最高百倍级提升 https://mp.weixin.qq.com/s/KqWZ7XktHVredAEOOorW3Q  【`9.2`】
- > **PolarDB-PG的HTAP实践思路**
  * > 从本质上来说，HTAP在实现上一般是将行存与列存融合，从而分别应对 TP 和 AP 的需求。但大部分数据库实践 HTAP 理念时，由于自身产品的定位、研发目标的约束，导致这两类功能比较割裂，***客户在使用时往往还是 TP 系统和 AP 系统分开建设***。
  * > 随着云原生数据库对软硬件的深度优化，PolarDB 单一数据库实例的能力和扩展性大大提高，其存储早已突破`数百TB`，计算节点可达上千核。除了传统的在线业务外，越来越多的客户使用 PolarDB-PG 来承载大规模数据业务，在一个库内即可覆盖在线业务、历史数据存储、数据价值挖掘的全链路场景。
  * > 同时，近几年随着 DuckDB 等轻量化分析型数据库的崛起，其完备的向量化执行引擎可以在相同的计算资源下将性能提升 `1~2` 个数量级，也越来越多地为开发者所采用。
  * > ***基于上述情况，PolarDB-PG 选择`列存索引`（`IMCI`）形式来实践 HTAP ，同时选用了 DuckDB 的向量化执行引擎并基于 PolarDB 云原生架构改进了列存结构***，实现了PolarDB云原生化TP核心优势和DuckDB在卓越分析查询性能上的双剑合璧。
  * > ***列存索引形式使得客户可以在现有的实例中原地开启该功能，只需要为表中的列创建列存索引（如下图所示），即可实现对复杂查询的加速。索引形式还可以进一步延伸适配向量、时空、图等多模数据类型，加速与AI的融合计算***。TP 和 AP 不再是割裂的应用场景，两者互相渗透，对于 PolarDB-PG 而言，**分析型 SQL 只需要日常的索引调优手段即可加速**，大幅简化应用架构。
- > **PolarDB-PG IMCI的使用场景与优势**
