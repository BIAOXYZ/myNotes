
clickhouse 怎么修改数据呢？ https://www.v2ex.com/t/1033690
- > 试试在每台机器上单独执行而不是远程表。当然原子性和一致性需要你手动保障。
- > 我知道了，各位大佬，我先查远程表，然后再修改每一台的本地表，谢谢各位的解答

支持多数据源联合查询的本地运行 SQL 执行引擎安装和配置 https://www.v2ex.com/t/957505
```console
支持对多种数据联合查询，在本地运行的 SQL 执行引擎，可以直接查询读写.txt .json .csv .xls .xlsx 文件，支持命令行安装，快捷方便。
https://segmentfault.com/a/1190000044019904
项目地址： https://github.com/snower/syncany-sql.git
```

高并发下怎么做余额扣减？ https://www.v2ex.com/t/897920
- > 库存的高并发扣减算是比较成熟的东西了, 随便一搜很多的 <br> 比如可以搞多层拦截, 如果你只卖 10 个东西, 要是有 1w 人来抢, 那绝大多数流量没有必要到后端, 反正总是能把东西卖出去的. 前端和网关可以直接随机丢弃流量, 流量到了后端后, 可以再加上 MQ 排队和缓存, 最终再到数据库里行锁扣库存. <br> 还有手段比如把库存分散到多行数据上, 随机挑一行扣
- > 如果并发不会很高的话不用在数据库上加锁
  * > 1.要扣的钱为 A ，先查 amount 当前值为 B ，代码中判断 B >= A
  * > 2.然后执行 update xxx set amount = amount - A where amount = B
  * > 3.执行看影响行数，如果为 0 ，重新从第 1 步执行
  * > 一般只需要重试一次。
- > https://www.51cto.com/article/720873.html 并发扣款，如何保证一致性 沈剑 大佬的文章可以看看
- > 假设网关、框架重试，会多扣款，解决手段：
  * > 1、悲观锁，使用分布式锁
  * > 2、乐观锁，使用 CAS ，select 得到的 balance 作为 update 的 where 条件，并添加 ver 条件解决 ABA 问题

NutsDB v0.7.0 发布~ https://www.v2ex.com/t/838385
```console
项目地址 https://github.com/xujiajun/nutsdb
```

图数据库现在应用广泛吗? https://www.v2ex.com/t/831532
- > 利益相关，图数据库的功能当然可以用关系型数据库实现，比如多级的查询用 BFS 就行了，查询次数等于深度，但是很明显，层数多了以后关系型数据库的性能下降的很快，大概到第 5/6 层的时候就完全不可用了。
使用场景的话因为大多数情况都可以用关系型数据库解决问题，所以一般来说只有在数据量比较大，而且关联查询很多的场景会使用。比如电信金融，还有社交，企业关系等。其他方面的话也有因为深度学习里面经常用图的数据结构，所以在这里也会有应用
  >> 能举个更详细的例子吗？没太理解为啥 BFS 五六层后关系数据库不行了但是图数据库却可以？谢谢先。
  >>> 可以看下这篇文章 [《人人都在谈的图数据库到底是个啥？》](https://bbs.huaweicloud.com/blogs/265577)
  >>>> “测试结果表明，深度为 2 时两种数据库的性能差别不大，都很迅速；当深度为 3 时，关系型数据库需要半分钟完成查询，图数据库依旧在 1 秒内搞定；当深度为 4 时，关系型数据库耗费了接近半小时返回结果，图数据库不到 2 秒；而当深度达到 5 以后，关系型数据库就迟迟无法响应了，图数据库却依旧可以「秒杀」，表现出了非常良好的性能。” —— 这里我理解的是：每加一层，MySQL 都是去对自身的那张表做 join （具体哪种 join 类型不确定，疑似自然连接），所以就会导致层数一高根本受不了。但是图数据库反正每个节点本身有“索引”，所以对这一类查询基本就是遍历“索引”的大小。

有用过阿里云的 polarDB 的吗？ https://www.v2ex.com/t/813812
- > 似乎底层就是正常的 mysql ，你可以认为阿里云帮你做了个中间件，实际性能肯定依赖底层 mysql 吧
- > 还可以的，底层是 mysql ，只是做了中间件负责多个节点数据一致性保障。对于 mysql 语法应该是 100%支持。
- > share-storage, 底层使用了专有设备 FGPA 和 RDMA ，有 vendor lock-in 的风险。
- > polardb 似乎配的是傲腾，以前看过博客极限情况下性能能比普通 ssd 的 MySQL 高上百倍

彦祖们， pg 还是 mysql? 到底该怎么选？ https://www.v2ex.com/t/800592
- > 选 mysql，用 pg 的人一般不会有这个疑问。
- > https://dev.mysql.com/doc/mysql-reslimits-excerpt/8.0/en/limits.html <br> https://www.postgresql.org/docs/13/limits.html

PostgreSQL 和 MySQL 中 schema 的区别 https://www.v2ex.com/t/775431
```console
PostgreSQL
--------------------------------------------------
schema 在同一个数据库中可以创建多个，每个 schema 可以拥有相同表名的表。
假设有 a_schema 和 b_schema ，里面都可以存在 test_table 这张表，并且在同一个数据库中可以通过语句查看到不同 schema 里面的数据。

MySQL
--------------------------------------------------
与 PostgreSQL 不大一样，在 MySQL 的 database 和 schema 是同一个概念，所以在 MySQL 中不会特别提及 schema 。
```

Oracle 相比 mysql 的优势在哪里 https://www.v2ex.com/t/773654

为啥 TiDB 云服务在国内云厂商没有? https://www.v2ex.com/t/736938

[闲谈]萌新对国产数据库的一些感慨。。 https://www.v2ex.com/t/725612

druid 对数据库密码进行加密的疑惑点。 https://www.v2ex.com/t/713590

TiDB 现在发展到什么程度了，相比 sharding 的方案有什么劣势呢 https://www.v2ex.com/t/710831
- > 腾讯之前和 PingCAP 合作过, 有 managed TiDB. 然后合作终止了, 腾讯云推出了自己的分布式 SQL. 你懂的.
- > 达梦可别吹了，我们公司用了一年（政府项目，不得不用），给达梦都不知道排出了多少个 bug，最夸张一个，一条 insert 会引发数据库崩溃，100%必现，两个月前出现的。包括配套的产品，管理工具、迁移工具、ETL，都是 bug 一堆。，不可否认达梦服务态度很好，也是国产化必要的存在，但数据库确实没多强。以上发言仅从使用者角度出发

今天开源了一个自己写的数据仓库原型 https://www.v2ex.com/t/696587
- > 项目以 Rust 语言构建系统，C 语言提供运行时查询内核。目前原型提供两个命令行：baseops 做数据导入和表信息维护； baseshell 查询数据。查询现在可以提供整数类型列的简单 sum 聚合查询，能在 100 毫秒左右完成 15 亿行数据的 sum 查询，是 clickhouse 的 6 倍。
- > https://github.com/tensorbase/tensorbase

如何选择国产数据库：人大金仓？达梦？南大通用？请 V 友指点 https://www.v2ex.com/t/670566
- > 估计你是要做 AK 项目吧。目前都不够成熟，两个版本之间，都会出现 api 不兼容差异很大的情况，而且这几家都是几百人的公司，比 oracle 的技术服务能力差太多了。最重要要考虑的是选技术支持出现场方便的。如果在帝都建议选金仓，南方地区选达梦。
- > 最近做过高斯、人大金仓和达梦的适配，性能没去具体测试，就迁移难度和技术支持来说，我选达梦，人大金仓也还可以，华为的高斯请直接放弃。
- > 人大金仓好象是基于 PostgreSQL 来做的。如果考虑 oracle 移植的话 人大金仓不二选择。但是要说这两个国产数据库那个做得好的话，那还得是达梦。
- > 看你的描述 如果对数据库的性能要求不太大的话，基本不需要 dba 对数据库进行针对性调优的话，用人大金仓好一些， 如果考虑到后期扩展还是上达梦。话说国产化这些东西 应该根据客户的需求来考虑兼容具体的数据库品牌吧。
- > 让我想起来前一段时间因为 neo4j 企业版 3.5 以后的需要收费。所以选择了国产的 nebula graph 图数据库。然后感受了不到三周经理受不了了，就换回了版本低一些的 neo4j 。。。。。白给了三周时间。。。。。
- > 用过达梦和南大通用,还是达梦好用些...
- > 达梦的空间数据。。。一言难尽。为了保证上线演示，安排专人在机房重启服务。不过这个是好几年前的事情了，现在不知道怎么样了

为什么手动编译后的 MongoDB 比官方提供的（包管理器下载）二进制版文件大这么多？ https://www.v2ex.com/t/635085
- > 可能是没 strip 吧，关键词 linux strip
- > 这么大也不像是 debug 版的大小啊，静态链接了？
- > linux 下用 readelf，其次就是看编译的时候有没有指定参数比如"-g"这种。

腾讯基于 PostgreSQL 历时 8 年研发的 HTAP 分布式数据库 TBase 开源了，对数据库有兴趣的同学可以去了解体验一下 https://www.v2ex.com/t/619632

:u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272::u5272:
