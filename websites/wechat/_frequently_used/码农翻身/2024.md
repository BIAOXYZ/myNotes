
# 2024.07

两位巨佬吃了一顿晚饭，整个互联网彻底被改变了！ https://mp.weixin.qq.com/s/wsDGJTRLjdG8WfdDDlDV8w
- > 大家都知道Unicode只是规定了每个字符用什么编码，但是没有规定如何去存储， 当时Plan 9 采用了一个叫做ISO 10646 UTF编码， 但是这个编码实在不怎么样， 按照Rob Pike的话说：我们恨这个编码。
- > **2**
  * > 故事讲完了，我们来看看为什么UTF-8能流行起来。
  * > 大家知道英文字母用一个字节保存就够了，如果Unicode规定每个英文字符也用两个字节或三个字节来保存，那每个英文字母前面势必要补上0， 文本文件要大两到三倍。
  * > 这是巨大的浪费，肯定不行。
  * > Rob和Ken的设计的UTF-8就比较聪明， 看看这个表：
- > **3**
  * > 1.兼容ASCII，表格中的第一行就是为ASCII所设。 <br> 多字节编码的每个字节的最高位永远是 1，而 ASCII 字符编码的最高位是 0，所以从根本上杜绝了编码冲突。
  * > 2.第一个字节就指明了后续的长度 <br> 当程序面对一个字节流的时候，只需要读出第一个字节最前面有几个1 ，就知道这个字符的长度，解码很方便。
  * > 3.前缀码 <br> 大家仔细观察下， UTF-8中没有任何合法字符是其他字符的前缀， 这样就带来了一个好处：支持程序快速地跳过有问题的字节，然后正常解码。
- 回复：
  * > mysql存储的字符串长度使用1-2字节, 也是借鉴了utf8这种思想. 第1bit为0 就表示使用1字节表示长度, 为1  就读2字节,  第1字节超过128的部分*256加上第2字节就是实际的值.  虽然表示的范围缩短了(一半). 但是存储的空间也减少了

漫画 | 浏览器真是一个比一个无耻！ https://mp.weixin.qq.com/s/GcfKEpkraNHfnYMdrGqMcA
- > 这个User Agent字符串之所以这么古怪， 要从20多年前的Mosaic说起。

世界上最大的盗版网站，遇到麻烦了！ https://mp.weixin.qq.com/s/WJ_A_WxjLzV_YTnpeGgWTA
- > **01 把互联网“存”起来**
  * > 这是个疯狂的想法，不过，还真有人这么干了！
  * > 照片中这位老帅哥叫做`Brewster Kahle`， 他的梦想就是做这件事情：把整个互联网都存起来！
- > **02 海量数据**
  * > 到目前为止，互联网档案馆已经保存了：
    ```console
    8350 亿个网页
    4400 万本书籍和文本
    100 万个软件程序
    1500万 录音（包括25.5万个音乐会）
    1060万个视频 （包括260个电视节目）
    480万张图片
    ```
  * > 仅仅是单个副本就占用了`145PB`的空间（所有的内容至少存储两个副本）。
  * > 如果你也想找古老的资料，也可以去试一试： https://web.archive.org/

# 2024.05

微软开源了操作系统，注释中藏着一个大秘密！ https://mp.weixin.qq.com/s/-N38xZ1go8_dUpkQOTtcMw
- > **1**
  * > 美国华盛顿州的西雅图，有个叫西雅图计算机产品（简称SCP）公司决定采用Intel的8086来组装个人电脑，但是却没有合适的操作系统可用。
  * > 于是公司的`蒂姆·帕特森` (`Tim Paterson`)写了一个操作系统，名称叫做QDOS，意思是`Quick and Dirty Disk Operating System，Quick and Dirty`，这名称，公司竟然叫得出口。
  * > 1981年，盖茨抓住了一个千载难逢的机会：为蓝色巨人IBM的PC提供操作系统。
  * > 这时候的盖茨绝对是空手套白狼，他连操作系统都没有，就敢和IBM签合同。
  * > 微软和同在西雅图的SCP公司之前有业务往来，这时候盖茨就发现了QDOS，他非常果断，立刻用5万美元买断QDOS，并且把作者蒂姆·帕特森也挖了过来，让他把QDOS移植到配有8088 CPU的IBM PC上。
  * > 当然，不能叫QDOS这么难听的名字了，新名字叫MS-DOS。
  * > Mark Zbikowski在微软也是一个传奇程序员，他给DOS贡献了分层目录结构，和可安装设备驱动（后来成了即插即用），后来参与了Windows NT的开发，是文件系统架构师和开发经理。
  * > ***就像PK把自己的名字雕刻在Zip文件格式中一样，`Mark Zbikowski` 也把自己的名字刻在了DOS可执行文件里，这种文件的Magic Number是：`4D 5A` ，即`MZ`***。
- > **2**
  * > 如果不是有个叫OwnedByWuigi用户手快，fork了最早发布的DOS4.0代码仓库，我们可能永远都不知道有这回事儿。 https://github.com/OwnedByWuigi/DOS/blob/ffd70f8b4fb77e2e6affbf1fad2fd8c349f0369f/v4.0/src/DOS/STRIN.ASM#L70 
  * > 程序员经常在代码注释中看到脏话，比如：
- 回复：
  * > 那段代码截图的意思，是先比较一下AL寄存器和ctrl-F的值，'F'-'@'就是计算ctrl-F。如果相等则跳转到GETCH，我猜是从键盘获取一个字符。注解是说，TP忽略ctrl-F，因为他的BIOS可能没有清除（后面我猜是cache，就是键盘缓冲区）。 <br> 我猜测是CTRL-F是某个热键可以跳转到某段处理程序，BIOS应该清除键盘缓冲以免后续程序处理多余的CTRL-F，但是兼容机的BIOS是逆向工程的，也许有些兼容机没有清除缓冲，因此要加这段清理缓冲的判断。GETCH就是从键盘缓冲区取一个字符，达到从缓冲删除CTRL-F的目的。不过他没有用CALL而是JZ，GETCH可能不是函数而是一段不同的逻辑
